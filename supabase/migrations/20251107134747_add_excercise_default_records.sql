-- Create exercise_records table
CREATE TABLE
    exercise_default_records (
        id UUID PRIMARY KEY DEFAULT gen_random_uuid (),
        exercise_id UUID NOT NULL REFERENCES exercises (id) ON DELETE CASCADE,
        measure_unit_id UUID NOT NULL REFERENCES measurement_units (id) ON DELETE RESTRICT,
        name TEXT NOT NULL,
        sort_order INTEGER NOT NULL DEFAULT 0,
        created_at TIMESTAMP WITH TIME ZONE DEFAULT TIMEZONE ('utc'::text, NOW()) NOT NULL,
        updated_at TIMESTAMP WITH TIME ZONE DEFAULT TIMEZONE ('utc'::text, NOW()) NOT NULL
    );

ALTER TABLE exercise_records
ADD COLUMN default_record_id UUID REFERENCES exercise_default_records (id) ON DELETE RESTRICT;

-- Default records (combined)
INSERT INTO
    exercise_default_records (
        id,
        exercise_id,
        measure_unit_id,
        name,
        sort_order
    )
VALUES
    (
        '019a5eb0-fc40-76aa-8b14-36dcf147fb0d',
        'e1111111-1111-1111-1111-111111111111',
        '11111111-1111-1111-1111-111111111111',
        '1ПМ',
        1
    ),
    (
        '019a5eb1-1570-71fc-b9b7-74a1acb4c1c2',
        'e1111111-1111-1111-1111-111111111111',
        '11111111-1111-1111-1111-111111111111',
        '2ПМ',
        2
    ),
    (
        '019a5eb1-2c42-7669-97cb-68f1b962110d',
        'e1111111-1111-1111-1111-111111111111',
        '11111111-1111-1111-1111-111111111111',
        '3ПМ',
        3
    ),
    (
        '019a5eb1-3d86-748c-b182-251c825ecc95',
        'e2222222-2222-2222-2222-222222222222',
        '11111111-1111-1111-1111-111111111111',
        '1ПМ',
        1
    ),
    (
        '019a5eb1-4ff8-776c-aa1d-ce4244df2b6a',
        'e2222222-2222-2222-2222-222222222222',
        '11111111-1111-1111-1111-111111111111',
        '2ПМ',
        2
    ),
    (
        '019a5eb1-63ea-779b-8ece-a8e1d031569b',
        'e2222222-2222-2222-2222-222222222222',
        '11111111-1111-1111-1111-111111111111',
        '3ПМ',
        3
    ),
    (
        '019a5eb1-771f-72de-b73e-61d333037f4f',
        'e3333333-3333-3333-3333-333333333333',
        '11111111-1111-1111-1111-111111111111',
        '1ПМ',
        1
    ),
    (
        '019a5eb1-845e-71fa-93ac-0f4904427d75',
        'e3333333-3333-3333-3333-333333333333',
        '11111111-1111-1111-1111-111111111111',
        '2ПМ',
        2
    ),
    (
        '019a5eb1-91d2-766a-9e6e-ae4dee6abb83',
        'e3333333-3333-3333-3333-333333333333',
        '11111111-1111-1111-1111-111111111111',
        '3ПМ',
        3
    ),
    (
        '019a5eb1-9f87-7440-90de-6dd946b675df',
        'e4444444-4444-4444-4444-444444444444',
        '11111111-1111-1111-1111-111111111111',
        '1ПМ',
        1
    ),
    (
        '019a5eb1-ae8a-76e6-9dcb-576c42e38d15',
        'e4444444-4444-4444-4444-444444444444',
        '11111111-1111-1111-1111-111111111111',
        '2ПМ',
        2
    ),
    (
        '019a5eb1-c121-718e-8cfb-0e2d53d248a4',
        'e4444444-4444-4444-4444-444444444444',
        '11111111-1111-1111-1111-111111111111',
        '3ПМ',
        3
    ),
    (
        '019a5eb1-d997-74db-b087-03918e93eaaa',
        'e5555555-5555-5555-5555-555555555555',
        '11111111-1111-1111-1111-111111111111',
        '1ПМ',
        1
    ),
    (
        '019a5eb1-e8f1-77da-a2a7-25bae9a14e72',
        'e5555555-5555-5555-5555-555555555555',
        '11111111-1111-1111-1111-111111111111',
        '3ПМ',
        2
    ),
    (
        '019a5eb1-fef7-724f-b5dc-865398e56083',
        'e5555555-5555-5555-5555-555555555555',
        '11111111-1111-1111-1111-111111111111',
        '5ПМ',
        3
    ),
    (
        '019a5eb2-0ca1-7739-8cf1-0316269de3de',
        'e6666666-6666-6666-6666-666666666666',
        '11111111-1111-1111-1111-111111111111',
        '1ПМ',
        1
    ),
    (
        '019a5eb2-19a2-7222-8125-d1714d4d3416',
        'e6666666-6666-6666-6666-666666666666',
        '11111111-1111-1111-1111-111111111111',
        '3ПМ',
        2
    ),
    (
        '019a5eb2-26c4-776c-b630-474437e3f0b7',
        'e6666666-6666-6666-6666-666666666666',
        '11111111-1111-1111-1111-111111111111',
        '5ПМ',
        3
    ),
    (
        '019a5eb2-5594-7792-bb6b-b7a9baab0601',
        'e7777777-7777-7777-7777-777777777777',
        '11111111-1111-1111-1111-111111111111',
        '1ПМ',
        1
    ),
    (
        '019a5eb2-6873-716a-9feb-054dd1d3cf90',
        'e7777777-7777-7777-7777-777777777777',
        '11111111-1111-1111-1111-111111111111',
        '3ПМ',
        2
    ),
    (
        '019a5eb2-902b-718f-b9f1-45ba9f6570a5',
        'e7777777-7777-7777-7777-777777777777',
        '11111111-1111-1111-1111-111111111111',
        '5ПМ',
        3
    ),
    (
        '019a5eb2-9771-7177-a77a-3b8829f66597',
        'e9999999-9999-9999-9999-999999999999',
        '11111111-1111-1111-1111-111111111111',
        '1ПМ',
        1
    ),
    (
        '019a5eb2-9eb5-7370-a840-c4b0081af133',
        'e9999999-9999-9999-9999-999999999999',
        '11111111-1111-1111-1111-111111111111',
        '3ПМ',
        2
    ),
    (
        '019a5eb2-a8e0-71fc-8dc8-f9a5190bea7b',
        'e9999999-9999-9999-9999-999999999999',
        '11111111-1111-1111-1111-111111111111',
        '5ПМ',
        3
    ),
    (
        '019a5eb2-b09c-7076-835d-154c579ba468',
        '0199a0e2-9049-70ff-bd3c-98a99c0676c6',
        '11111111-1111-1111-1111-111111111111',
        '1ПМ',
        1
    ),
    (
        '019a5eb2-b960-77bc-a5e8-e00b1806c36b',
        '0199a0e2-9049-70ff-bd3c-98a99c0676c6',
        '11111111-1111-1111-1111-111111111111',
        '3ПМ',
        2
    ),
    (
        '019a5eb2-c315-750f-b143-25c80b69f299',
        '0199a0e2-9049-70ff-bd3c-98a99c0676c6',
        '11111111-1111-1111-1111-111111111111',
        '5ПМ',
        3
    ),
    (
        '019a5eb2-caca-7639-b153-692f06e6de84',
        'e8888888-8888-8888-8888-888888888888',
        '11111111-1111-1111-1111-111111111111',
        '1ПМ',
        1
    ),
    (
        '019a5eb2-d48f-7208-8a0e-b6c806cff67f',
        'e8888888-8888-8888-8888-888888888888',
        '11111111-1111-1111-1111-111111111111',
        '3ПМ',
        2
    ),
    (
        '019a5eb2-dd77-760e-bb9b-a04ef2089452',
        'eaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa',
        '11111111-1111-1111-1111-111111111111',
        '1ПМ',
        1
    ),
    (
        '019a5eb2-e725-76ab-a6da-e1b40a49a846',
        '0199a0e2-760a-732d-8baa-efb65734ab94',
        '11111111-1111-1111-1111-111111111111',
        '1ПМ',
        1
    );

-- Create indexes for exercise_default_records
CREATE INDEX idx_exercise_default_records_exercise_id ON exercise_default_records (exercise_id);

CREATE INDEX idx_exercise_default_records_name ON exercise_default_records (name);